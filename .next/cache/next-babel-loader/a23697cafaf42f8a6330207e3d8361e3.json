{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport { CategoriesSlider } from \"@src/components/header/sliders/categoriesSlider/CategoriesSlider\";\nimport { userAPI } from \"@src/api/api\";\nimport { i18n } from \"@root/i18n\";\nvar sliderDataList = {\n  id: null,\n  name: '',\n  images: {\n    id: null,\n    url: {\n      \"default\": ''\n    }\n  },\n  icons: {\n    id: null,\n    url: {\n      \"default\": ''\n    }\n  },\n  childs: [],\n  has_auction: false\n};\nvar initSliders = [];\n\nfor (var i = 1; i <= 12; i++) {\n  initSliders.push(sliderDataList);\n}\n\nvar initialState = {\n  isFetch: false,\n  error: null,\n  list: initSliders\n};\nexport var CategoriesSliderContainer = function CategoriesSliderContainer(props) {\n  _s();\n\n  var lang = i18n.language;\n\n  var _useState = useState(initialState),\n      sliderData = _useState[0],\n      setSliderData = _useState[1];\n\n  var setSlidersData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(state, setState, lang) {\n      var newData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setState(_objectSpread(_objectSpread({}, state), {}, {\n                isFetch: true\n              }));\n              _context.next = 4;\n              return userAPI.getCategories(lang);\n\n            case 4:\n              newData = _context.sent;\n              setState(_objectSpread(_objectSpread({}, state), {}, {\n                isFetch: false\n              }));\n              setState(_objectSpread(_objectSpread({}, state), {}, {\n                list: _toConsumableArray(newData)\n              }));\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              setState(_objectSpread(_objectSpread({}, state), {}, {\n                error: _context.t0.message\n              }));\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n\n    return function setSlidersData(_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    setSlidersData(sliderData, setSliderData, lang);\n  }, []);\n  return __jsx(CategoriesSlider, {\n    t: props.t,\n    sliderData: sliderData\n  });\n};\n\n_s(CategoriesSliderContainer, \"6eEXQu26WQxotAmC25QStIU4+Hk=\");\n\n_c = CategoriesSliderContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"CategoriesSliderContainer\");","map":{"version":3,"sources":["C:/Users/abror/Documents/projects/slondo/src/components/header/sliders/categoriesSlider/CategoriesSliderContainer.tsx"],"names":["React","useEffect","useState","CategoriesSlider","userAPI","i18n","sliderDataList","id","name","images","url","icons","childs","has_auction","initSliders","i","push","initialState","isFetch","error","list","CategoriesSliderContainer","props","lang","language","sliderData","setSliderData","setSlidersData","state","setState","getCategories","newData","message","t"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,gBAAR,QAA+B,kEAA/B;AAEA,SAAQC,OAAR,QAAsB,cAAtB;AACA,SAAQC,IAAR,QAAmB,YAAnB;AAEA,IAAMC,cAA4B,GAAG;AACjCC,EAAAA,EAAE,EAAE,IAD6B;AAEjCC,EAAAA,IAAI,EAAE,EAF2B;AAGjCC,EAAAA,MAAM,EAAE;AAACF,IAAAA,EAAE,EAAE,IAAL;AAAWG,IAAAA,GAAG,EAAE;AAAC,iBAAS;AAAV;AAAhB,GAHyB;AAIjCC,EAAAA,KAAK,EAAE;AAACJ,IAAAA,EAAE,EAAE,IAAL;AAAWG,IAAAA,GAAG,EAAE;AAAC,iBAAS;AAAV;AAAhB,GAJ0B;AAKjCE,EAAAA,MAAM,EAAE,EALyB;AAMjCC,EAAAA,WAAW,EAAE;AANoB,CAArC;AASA,IAAMC,WAA2B,GAAG,EAApC;;AAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,EAArB,EAAyBA,CAAC,EAA1B,EAA8B;AAC1BD,EAAAA,WAAW,CAACE,IAAZ,CAAiBV,cAAjB;AACH;;AAED,IAAMW,YAAwB,GAAG;AAC7BC,EAAAA,OAAO,EAAE,KADoB;AAE7BC,EAAAA,KAAK,EAAE,IAFsB;AAG7BC,EAAAA,IAAI,EAAEN;AAHuB,CAAjC;AAMA,OAAO,IAAMO,yBAAyB,GAAG,SAA5BA,yBAA4B,CAACC,KAAD,EAAW;AAAA;;AAChD,MAAMC,IAAI,GAAGlB,IAAI,CAACmB,QAAlB;;AADgD,kBAEZtB,QAAQ,CAACe,YAAD,CAFI;AAAA,MAEzCQ,UAFyC;AAAA,MAE7BC,aAF6B;;AAIhD,MAAMC,cAAc;AAAA,wEAAG,iBAAOC,KAAP,EAAcC,QAAd,EAAwBN,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEfM,cAAAA,QAAQ,iCACDD,KADC;AAEJV,gBAAAA,OAAO,EAAE;AAFL,iBAAR;AAFe;AAAA,qBAOOd,OAAO,CAAC0B,aAAR,CAAsBP,IAAtB,CAPP;;AAAA;AAOTQ,cAAAA,OAPS;AASfF,cAAAA,QAAQ,iCACDD,KADC;AAEJV,gBAAAA,OAAO,EAAE;AAFL,iBAAR;AAKAW,cAAAA,QAAQ,iCACDD,KADC;AAEJR,gBAAAA,IAAI,qBACGW,OADH;AAFA,iBAAR;AAde;AAAA;;AAAA;AAAA;AAAA;AAqBfF,cAAAA,QAAQ,iCACDD,KADC;AAEJT,gBAAAA,KAAK,EAAE,YAAEa;AAFL,iBAAR;;AArBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAdL,cAAc;AAAA;AAAA;AAAA,KAApB;;AA4BA1B,EAAAA,SAAS,CAAC,YAAM;AACZ0B,IAAAA,cAAc,CAACF,UAAD,EAAaC,aAAb,EAA4BH,IAA5B,CAAd;AACH,GAFQ,EAEN,EAFM,CAAT;AAIA,SAAO,MAAC,gBAAD;AAAkB,IAAA,CAAC,EAAED,KAAK,CAACW,CAA3B;AAA8B,IAAA,UAAU,EAAER;AAA1C,IAAP;AACH,CArCM;;GAAMJ,yB;;KAAAA,yB","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {CategoriesSlider} from \"@src/components/header/sliders/categoriesSlider/CategoriesSlider\";\r\nimport {Categories, CategoryType} from \"@root/interfaces/Categories\";\r\nimport {userAPI} from \"@src/api/api\";\r\nimport {i18n} from \"@root/i18n\";\r\n\r\nconst sliderDataList: CategoryType = {\r\n    id: null,\r\n    name: '',\r\n    images: {id: null, url: {default: ''}},\r\n    icons: {id: null, url: {default: ''}},\r\n    childs: [],\r\n    has_auction: false\r\n}\r\n\r\nconst initSliders: CategoryType[] = [];\r\n\r\nfor (let i = 1; i <= 12; i++) {\r\n    initSliders.push(sliderDataList);\r\n}\r\n\r\nconst initialState: Categories = {\r\n    isFetch: false,\r\n    error: null,\r\n    list: initSliders,\r\n};\r\n\r\nexport const CategoriesSliderContainer = (props) => {\r\n    const lang = i18n.language;\r\n    const [sliderData, setSliderData] = useState(initialState);\r\n\r\n    const setSlidersData = async (state, setState, lang) => {\r\n        try {\r\n            setState({\r\n                ...state,\r\n                isFetch: true\r\n            })\r\n\r\n            const newData = await userAPI.getCategories(lang);\r\n\r\n            setState({\r\n                ...state,\r\n                isFetch: false\r\n            });\r\n\r\n            setState({\r\n                ...state,\r\n                list: [\r\n                    ...newData\r\n                ]\r\n            });\r\n        } catch (e) {\r\n            setState({\r\n                ...state,\r\n                error: e.message\r\n            });\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setSlidersData(sliderData, setSliderData, lang);\r\n    }, [])\r\n\r\n    return <CategoriesSlider t={props.t} sliderData={sliderData}/>\r\n};"]},"metadata":{},"sourceType":"module"}