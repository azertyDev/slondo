{"ast":null,"code":"var _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Tabs, Typography, InputBase, List, ListItem, Grid } from \"@material-ui/core\";\nimport { CustomTab } from \"@src/components/elements/custom_tab/CustomTab\";\nimport { fetchAdDataForCreate, createAdvrtDataAction } from \"@src/redux/slices/createAdvrtSlice\";\nimport { i18n, Router } from \"@root/i18n\";\nimport { useStyles } from './useStyles';\nvar adTypes = [{\n  id: 1,\n  name: 'Объявление'\n}, {\n  id: 2,\n  name: 'Торг'\n}];\nexport var CreateAdModalForm = function CreateAdModalForm(props) {\n  _s();\n\n  var handleCloseModal = props.handleCloseModal;\n  var lang = i18n.language;\n  var dispatch = useDispatch();\n  var categoriesList = useSelector(function (_ref) {\n    var categories = _ref.categories;\n    return categories.list;\n  });\n\n  var _useState = useState(0),\n      tabValue = _useState[0],\n      setTabValue = _useState[1];\n\n  var _useState2 = useState({\n    parentID: null,\n    parentName: '',\n    childs: []\n  }),\n      subCtgry = _useState2[0],\n      setSubCtgry = _useState2[1];\n\n  var handleTab = function handleTab(_, newValue) {\n    setTabValue(newValue);\n  };\n\n  var handleCtgr = function handleCtgr(parentID, parentName, list) {\n    return function () {\n      setSubCtgry({\n        parentID: parentID,\n        parentName: parentName,\n        childs: list\n      });\n    };\n  };\n\n  var handleSubCtgr = function handleSubCtgr(ctgryID, subCtgryID) {\n    return function () {\n      dispatch(fetchAdDataForCreate({\n        lang: lang,\n        ctgryID: ctgryID,\n        subCtgryID: subCtgryID\n      }));\n      dispatch(createAdvrtDataAction({\n        category: {\n          id: subCtgry.parentID,\n          name: subCtgry.parentName\n        }\n      }));\n      Router.push('/advertisement/create');\n      handleCloseModal();\n    };\n  };\n\n  useEffect(function () {\n    tabValue ? dispatch(createAdvrtDataAction({\n      adType: adTypes[0]\n    })) : dispatch(createAdvrtDataAction({\n      adType: adTypes[1]\n    }));\n  }, [tabValue]);\n  var classes = useStyles();\n  return __jsx(\"div\", {\n    className: classes.root\n  }, __jsx(Tabs, {\n    value: tabValue,\n    onChange: handleTab,\n    centered: true\n  }, __jsx(CustomTab, {\n    label: __jsx(Typography, {\n      variant: \"subtitle1\"\n    }, \"\\u041E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"),\n    id: 0\n  }), __jsx(CustomTab, {\n    label: __jsx(Typography, {\n      variant: \"subtitle1\"\n    }, \"\\u0422\\u043E\\u0440\\u0433\\u0438\"),\n    id: 1\n  })), __jsx(Grid, {\n    container: true,\n    className: classes.tabsContent\n  }, __jsx(Grid, {\n    item: true,\n    xs: 3,\n    className: \"categories-block\"\n  }, __jsx(\"div\", {\n    className: \"header\"\n  }, __jsx(Typography, null, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044E\")), __jsx(List, {\n    className: \"categories-list\"\n  }, categoriesList.map(function (ctgr) {\n    return __jsx(ListItem, {\n      key: ctgr.id,\n      onClick: handleCtgr(ctgr.id, ctgr.name, ctgr.childs)\n    }, __jsx(\"div\", null, __jsx(\"img\", {\n      src: ctgr.icons.url,\n      alt: \"category\"\n    }), ctgr.name));\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 9,\n    className: \"sub-categories-block\"\n  }, __jsx(\"div\", {\n    className: \"search-block\"\n  }, __jsx(InputBase, {\n    style: {\n      border: '1px solid'\n    },\n    placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\\u043C\"\n  })), __jsx(\"div\", null, __jsx(List, {\n    className: \"categories-list\"\n  }, subCtgry.childs.map(function (_ref2) {\n    var id = _ref2.id,\n        name = _ref2.name;\n    return __jsx(ListItem, {\n      key: id,\n      onClick: handleSubCtgr(subCtgry.parentID, id)\n    }, __jsx(\"div\", null, name));\n  }))))));\n};\n\n_s(CreateAdModalForm, \"4z1JHcWwCZoe7kcIQeYq6IKZHyo=\", false, function () {\n  return [useDispatch, useSelector, useStyles];\n});\n\n_c = CreateAdModalForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateAdModalForm\");","map":{"version":3,"sources":["C:/Users/abror/Documents/projects/slondo/src/components/advertisement/create_advrt/createAdModalForm/CreateAdModalForm.tsx"],"names":["React","useEffect","useState","useDispatch","useSelector","Tabs","Typography","InputBase","List","ListItem","Grid","CustomTab","fetchAdDataForCreate","createAdvrtDataAction","i18n","Router","useStyles","adTypes","id","name","CreateAdModalForm","props","handleCloseModal","lang","language","dispatch","categoriesList","categories","list","tabValue","setTabValue","parentID","parentName","childs","subCtgry","setSubCtgry","handleTab","_","newValue","handleCtgr","handleSubCtgr","ctgryID","subCtgryID","category","push","adType","classes","root","tabsContent","map","ctgr","icons","url","border"],"mappings":"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","sourcesContent":["import React, {FC, useEffect, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Tabs, Typography, InputBase, List, ListItem, Grid} from \"@material-ui/core\";\r\nimport {RootState} from \"@src/redux/rootReducer\";\r\nimport {CustomTab} from \"@src/components/elements/custom_tab/CustomTab\";\r\nimport {fetchAdDataForCreate, createAdvrtDataAction} from \"@src/redux/slices/createAdvrtSlice\";\r\nimport {i18n, Router} from \"@root/i18n\";\r\nimport {useStyles} from './useStyles';\r\n\r\n\r\nconst adTypes = [\r\n    {\r\n        id: 1,\r\n        name: 'Объявление'\r\n    },\r\n    {\r\n        id: 2,\r\n        name: 'Торг'\r\n    }\r\n];\r\n\r\n\r\nexport const CreateAdModalForm: FC<any> = (props) => {\r\n    const {handleCloseModal} = props;\r\n\r\n    const lang = i18n.language;\r\n\r\n    const dispatch = useDispatch();\r\n    const categoriesList = useSelector(({categories}: RootState) => categories.list);\r\n\r\n    const [tabValue, setTabValue] = useState(0);\r\n    const [subCtgry, setSubCtgry] = useState({\r\n        parentID: null,\r\n        parentName: '',\r\n        childs: []\r\n    });\r\n\r\n    const handleTab = (_, newValue) => {\r\n        setTabValue(newValue);\r\n    };\r\n\r\n    const handleCtgr = (parentID, parentName, list) => () => {\r\n        setSubCtgry({parentID, parentName, childs: list});\r\n    };\r\n\r\n    const handleSubCtgr = (ctgryID, subCtgryID) => () => {\r\n        dispatch(fetchAdDataForCreate({\r\n            lang,\r\n            ctgryID,\r\n            subCtgryID\r\n        }));\r\n        dispatch(createAdvrtDataAction({\r\n            category: {\r\n                id: subCtgry.parentID,\r\n                name: subCtgry.parentName\r\n            }\r\n        }));\r\n        Router.push('/advertisement/create');\r\n        handleCloseModal();\r\n    };\r\n\r\n    useEffect(() => {\r\n        tabValue\r\n            ? (\r\n                dispatch(\r\n                    createAdvrtDataAction({\r\n                        adType: adTypes[0]\r\n                    })\r\n                )\r\n            )\r\n            : (\r\n                dispatch(\r\n                    createAdvrtDataAction({\r\n                        adType: adTypes[1]\r\n                    })\r\n                )\r\n            )\r\n    }, [tabValue]);\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.root}>\r\n            <Tabs\r\n                value={tabValue}\r\n                onChange={handleTab}\r\n                centered\r\n            >\r\n                <CustomTab\r\n                    label={\r\n                        <Typography variant=\"subtitle1\">\r\n                            Объявления\r\n                        </Typography>\r\n                    }\r\n                    id={0}\r\n                />\r\n                <CustomTab\r\n                    label={\r\n                        <Typography variant=\"subtitle1\">\r\n                            Торги\r\n                        </Typography>\r\n                    }\r\n                    id={1}\r\n                />\r\n            </Tabs>\r\n            <Grid container className={classes.tabsContent}>\r\n                <Grid item xs={3} className='categories-block'>\r\n                    <div className='header'>\r\n                        <Typography>Выберите категорию</Typography>\r\n                    </div>\r\n                    <List className='categories-list'>\r\n                        {\r\n                            categoriesList.map((ctgr) => (\r\n                                <ListItem key={ctgr.id} onClick={handleCtgr(ctgr.id, ctgr.name, ctgr.childs)}>\r\n                                    <div>\r\n                                        <img src={ctgr.icons.url} alt='category'/>\r\n                                        {ctgr.name}\r\n                                    </div>\r\n                                </ListItem>\r\n                            ))\r\n                        }\r\n                    </List>\r\n                </Grid>\r\n                <Grid item xs={9} className='sub-categories-block'>\r\n                    <div className='search-block'>\r\n                        <InputBase style={{border: '1px solid'}} placeholder='Поиск по категориям'/>\r\n                    </div>\r\n                    <div>\r\n                        <List className='categories-list'>\r\n                            {\r\n                                subCtgry.childs.map(({id, name}) => (\r\n                                    <ListItem key={id} onClick={handleSubCtgr(subCtgry.parentID, id)}>\r\n                                        <div>\r\n                                            {name}\r\n                                        </div>\r\n                                    </ListItem>\r\n                                ))\r\n                            }\r\n                        </List>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n};"]},"metadata":{},"sourceType":"module"}