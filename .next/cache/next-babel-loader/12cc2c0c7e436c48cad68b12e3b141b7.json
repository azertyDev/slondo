{"ast":null,"code":"var _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Cookies from 'universal-cookie';\nimport { i18n, withTranslation } from '@root/i18n';\nimport { Container, Typography } from '@material-ui/core';\nimport TopHeaderContainer from \"./topHeader/TopHeaderContainer\";\nimport BottomHeader from './bottomHeader/BottomHeader';\nimport { ModalComponent } from '../elements/modal/Modal';\nimport { AuthRegPage } from \"./auth_reg/AuthRegPage\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setIsAuth } from '@src/redux/slices/authRegSlice';\nimport { CreateAdModalForm } from \"@src/components/advertisement/createAdModalForm/CreateAdModalForm\";\nimport { fetchCategories } from '@src/redux/thunks/categoriesThunk'; // styles\n\nimport { useStyles } from './useStyles';\nimport { ButtonComponent } from \"@src/components/elements/button/Button\";\n\nvar Header = function Header(props) {\n  _s();\n\n  var t = props.t;\n  var cookies = new Cookies();\n  var isTokenExst = !!cookies.get('token');\n  var lang = i18n.language;\n\n  var _useSelector = useSelector(function (store) {\n    return store.auth;\n  }),\n      isAuth = _useSelector.isAuth,\n      error = _useSelector.error;\n\n  var dispatch = useDispatch();\n\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var _useState2 = useState(false),\n      isCreateAd = _useState2[0],\n      setIsCreateAd = _useState2[1];\n\n  var handleOpenModal = function handleOpenModal() {\n    setIsOpen(true);\n    setIsCreateAd(false);\n  };\n\n  var handleCloseModal = function handleCloseModal() {\n    setIsOpen(false);\n  };\n\n  var handleCreateAd = function handleCreateAd() {\n    setIsOpen(true);\n    setIsCreateAd(true);\n  };\n\n  useEffect(function () {\n    dispatch(fetchCategories(lang));\n  }, [lang]);\n  useEffect(function () {\n    isAuth && !error && handleCloseModal();\n  }, [isAuth, error]);\n  useEffect(function () {\n    dispatch(setIsAuth(isTokenExst));\n  }, [isTokenExst]);\n  var classes = useStyles();\n  return __jsx(\"header\", {\n    className: classes.root\n  }, __jsx(Container, {\n    maxWidth: \"lg\"\n  }, __jsx(TopHeaderContainer, {\n    t: t,\n    handleOpenModal: handleOpenModal\n  }), __jsx(\"div\", {\n    className: classes.bottomHeader\n  }, __jsx(BottomHeader, {\n    t: t,\n    isAuth: isAuth,\n    handleOpenModal: handleOpenModal,\n    handleCreateAd: handleCreateAd\n  }))), __jsx(ModalComponent, {\n    isOpen: isOpen,\n    handleCloseModal: handleCloseModal,\n    className: classes.modalDialog\n  }, isCreateAd && isAuth ? __jsx(\"div\", null, __jsx(CreateAdModalForm, {\n    handleCloseModal: handleCloseModal\n  })) : isAuth ? __jsx(\"div\", {\n    style: {\n      width: '200px',\n      height: '100px',\n      backgroundColor: '#fff'\n    }\n  }, __jsx(Typography, {\n    variant: \"h5\"\n  }, \"\\u0412\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0441\\u0430\\u0439\\u0442\\u0430?\"), __jsx(\"div\", {\n    style: {\n      display: 'flex'\n    }\n  }, __jsx(ButtonComponent, null, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"), __jsx(ButtonComponent, null, \"\\u0412\\u044B\\u0439\\u0442\\u0438\"))) : __jsx(React.Fragment, null, __jsx(AuthRegPage, {\n    t: t,\n    handleCloseModal: handleCloseModal\n  }))));\n};\n\n_s(Header, \"VriRhob4uUfsmcAOISUrK3ex6bU=\", false, function () {\n  return [useSelector, useDispatch, useStyles];\n});\n\n_c = Header;\nexport default withTranslation(['header', 'auth_reg', 'common'])(Header);\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["C:/Users/abror/Documents/projects/slondo/src/components/header/Header.tsx"],"names":["React","useEffect","useState","Cookies","i18n","withTranslation","Container","Typography","TopHeaderContainer","BottomHeader","ModalComponent","AuthRegPage","useDispatch","useSelector","setIsAuth","CreateAdModalForm","fetchCategories","useStyles","ButtonComponent","Header","props","t","cookies","isTokenExst","get","lang","language","store","auth","isAuth","error","dispatch","isOpen","setIsOpen","isCreateAd","setIsCreateAd","handleOpenModal","handleCloseModal","handleCreateAd","classes","root","bottomHeader","modalDialog","width","height","backgroundColor","display"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport Cookies from 'universal-cookie'\r\nimport {i18n, withTranslation} from '@root/i18n'\r\nimport {Container, Typography} from '@material-ui/core'\r\nimport TopHeaderContainer from \"./topHeader/TopHeaderContainer\"\r\nimport BottomHeader from './bottomHeader/BottomHeader'\r\nimport {ModalComponent} from '../elements/modal/Modal'\r\nimport {AuthRegPage} from \"./auth_reg/AuthRegPage\"\r\nimport {useDispatch, useSelector} from \"react-redux\"\r\nimport {setIsAuth} from '@src/redux/slices/authRegSlice'\r\nimport {RootState} from \"@src/redux/rootReducer\"\r\nimport {CreateAdModalForm} from \"@src/components/advertisement/createAdModalForm/CreateAdModalForm\"\r\nimport {fetchCategories} from '@src/redux/thunks/categoriesThunk'\r\n\r\n// styles\r\nimport {useStyles} from './useStyles'\r\nimport {ButtonComponent} from \"@src/components/elements/button/Button\";\r\n\r\n\r\nconst Header = (props) => {\r\n    const {t} = props;\r\n\r\n    const cookies = new Cookies();\r\n    const isTokenExst = !!cookies.get('token');\r\n    const lang = i18n.language;\r\n\r\n    const {isAuth, error} = useSelector((store: RootState) => store.auth);\r\n    const dispatch = useDispatch();\r\n\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [isCreateAd, setIsCreateAd] = useState(false);\r\n\r\n    const handleOpenModal = () => {\r\n        setIsOpen(true);\r\n        setIsCreateAd(false);\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setIsOpen(false);\r\n    };\r\n\r\n    const handleCreateAd = () => {\r\n        setIsOpen(true);\r\n        setIsCreateAd(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchCategories(lang));\r\n    }, [lang]);\r\n\r\n    useEffect(() => {\r\n        isAuth && !error && handleCloseModal()\r\n    }, [isAuth, error]);\r\n\r\n    useEffect(() => {\r\n        dispatch(setIsAuth(isTokenExst));\r\n    }, [isTokenExst]);\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <header className={classes.root}>\r\n            <Container maxWidth=\"lg\">\r\n                <TopHeaderContainer t={t} handleOpenModal={handleOpenModal}/>\r\n                <div className={classes.bottomHeader}>\r\n                    <BottomHeader\r\n                        t={t}\r\n                        isAuth={isAuth}\r\n                        handleOpenModal={handleOpenModal}\r\n                        handleCreateAd={handleCreateAd}\r\n                    />\r\n                </div>\r\n            </Container>\r\n            <ModalComponent\r\n                isOpen={isOpen}\r\n                handleCloseModal={handleCloseModal}\r\n                className={classes.modalDialog}\r\n            >\r\n                {\r\n                    isCreateAd && isAuth\r\n                        ? (\r\n                            <div>\r\n                                <CreateAdModalForm handleCloseModal={handleCloseModal}/>\r\n                            </div>\r\n                        )\r\n                        : (\r\n                            isAuth\r\n                                ? (\r\n                                    <div style={{width: '200px', height: '100px', backgroundColor: '#fff'}}>\r\n                                        <Typography variant='h5'>Выйти из сайта?</Typography>\r\n                                        <div style={{display: 'flex'}}>\r\n                                            <ButtonComponent>Отмена</ButtonComponent>\r\n                                            <ButtonComponent>Выйти</ButtonComponent>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                                : (\r\n                                    <>\r\n                                        <AuthRegPage\r\n                                            t={t}\r\n                                            handleCloseModal={handleCloseModal}\r\n                                        />\r\n                                    </>\r\n                                )\r\n                        )\r\n                }\r\n            </ModalComponent>\r\n        </header>\r\n    )\r\n};\r\n\r\nexport default withTranslation(['header', 'auth_reg', 'common'])(Header);\r\n"]},"metadata":{},"sourceType":"module"}