{"ast":null,"code":"import { lazy, mixed, object, number } from \"yup\";\nconst requiredList = {\n  drive: true,\n  seats: true\n};\n\nconst lazyFunc = value => {\n  if (Object.keys(value).some(key => requiredList[key])) {\n    console.log(value);\n    return object().shape({\n      [value.name]: object({\n        id: number().nullable().required('Обязательный параметр!')\n      })\n    });\n  }\n\n  return mixed().notRequired();\n};\n\nexport const createAdvrtSchema = object({\n  // title: string().required('Обязательное поле!'),\n  // location: string().required('Обязательное поле!'),\n  // files: array().required('Загрузите фотографии!'),\n  // description: string().required('Обязательное поле!'),\n  // phone: string().required('Обязательное поле!'),\n  adsParams: lazy(lazyFunc)\n});","map":{"version":3,"sources":["C:/Users/abror/Documents/projects/slondo/validation_schemas/createAdvrtSchema.ts"],"names":["lazy","mixed","object","number","requiredList","drive","seats","lazyFunc","value","Object","keys","some","key","console","log","shape","name","id","nullable","required","notRequired","createAdvrtSchema","adsParams"],"mappings":"AAAA,SAAQA,IAAR,EAAcC,KAAd,EAA6BC,MAA7B,EAA4CC,MAA5C,QAAyD,KAAzD;AAGA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,IADU;AAEjBC,EAAAA,KAAK,EAAE;AAFU,CAArB;;AAKA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AACxB,MAAIC,MAAM,CAACC,IAAP,CAAYF,KAAZ,EAAmBG,IAAnB,CAAwBC,GAAG,IAAIR,YAAY,CAACQ,GAAD,CAA3C,CAAJ,EAAuD;AACnDC,IAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACA,WAAON,MAAM,GAAGa,KAAT,CAAe;AAClB,OAACP,KAAK,CAACQ,IAAP,GAAcd,MAAM,CAAC;AACjBe,QAAAA,EAAE,EAAEd,MAAM,GAAGe,QAAT,GAAoBC,QAApB,CAA6B,wBAA7B;AADa,OAAD;AADF,KAAf,CAAP;AAKH;;AACD,SAAOlB,KAAK,GAAGmB,WAAR,EAAP;AACH,CAVD;;AAYA,OAAO,MAAMC,iBAAiB,GAAGnB,MAAM,CAAC;AACpC;AACA;AACA;AACA;AACA;AACAoB,EAAAA,SAAS,EAAEtB,IAAI,CAACO,QAAD;AANqB,CAAD,CAAhC","sourcesContent":["import {lazy, mixed, string, object, array, number} from \"yup\";\r\n\r\n\r\nconst requiredList = {\r\n    drive: true,\r\n    seats: true\r\n};\r\n\r\nconst lazyFunc = (value) => {\r\n    if (Object.keys(value).some(key => requiredList[key])) {\r\n        console.log(value)\r\n        return object().shape({\r\n            [value.name]: object({\r\n                id: number().nullable().required('Обязательный параметр!')\r\n            })\r\n        });\r\n    }\r\n    return mixed().notRequired();\r\n};\r\n\r\nexport const createAdvrtSchema = object({\r\n    // title: string().required('Обязательное поле!'),\r\n    // location: string().required('Обязательное поле!'),\r\n    // files: array().required('Загрузите фотографии!'),\r\n    // description: string().required('Обязательное поле!'),\r\n    // phone: string().required('Обязательное поле!'),\r\n    adsParams: lazy(lazyFunc)\r\n});"]},"metadata":{},"sourceType":"module"}