{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Cookies from 'universal-cookie';\nimport { withTranslation } from '../../../i18n';\nimport { Container, Hidden } from '@material-ui/core';\nimport TopHeaderContainer from \"./topHeader/TopHeaderContainer\";\nimport BottomHeader from './bottomHeader/BottomHeader';\nimport { ModalComponent } from '../elements/modal/Modal';\nimport { AuthRegPage } from \"./auth_reg/AuthRegPage\";\nimport { AuthRegSm } from \"./auth_reg/auth_reg_sm/AutRegSm\";\nimport { useDispatch } from \"react-redux\";\nimport { setIsAuth } from '@src/redux/slices/authReducer'; // styles\n\nimport { useStyles } from './useStyles';\n\nconst Header = props => {\n  const {\n    t\n  } = props;\n  const dispatch = useDispatch();\n  const cookies = new Cookies();\n  const isTokenExst = !!cookies.get('token');\n  const {\n    0: isOpen,\n    1: setIsOpen\n  } = useState(false);\n  useEffect(() => {\n    dispatch(setIsAuth(isTokenExst).then(token => cookies.set('token', token, 2 * 3600)));\n  }, [isTokenExst]);\n\n  const handleOpenModal = () => {\n    setIsOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setIsOpen(false);\n  };\n\n  const classes = useStyles();\n  return __jsx(\"header\", {\n    className: classes.root\n  }, __jsx(Container, {\n    maxWidth: \"lg\"\n  }, __jsx(TopHeaderContainer, {\n    t: t,\n    handleOpenModal: handleOpenModal\n  }), __jsx(\"div\", {\n    className: classes.bottomHeader\n  }, __jsx(BottomHeader, {\n    t: t,\n    handleOpenModal: handleOpenModal\n  }))), __jsx(ModalComponent, {\n    isOpen: isOpen,\n    handleCloseModal: handleCloseModal,\n    className: classes.modalDialog\n  }, __jsx(React.Fragment, null, __jsx(Hidden, {\n    smDown: true\n  }, __jsx(AuthRegPage, {\n    t: t,\n    handleCloseModal: handleCloseModal\n  })), __jsx(Hidden, {\n    mdUp: true\n  }, __jsx(AuthRegSm, {\n    t: t,\n    handleCloseModal: handleCloseModal\n  })))));\n};\n\nexport default withTranslation(['header', 'auth_reg', 'common'])(Header);","map":{"version":3,"sources":["C:/Users/abror/Documents/projects/slondo/src/components/header/Header.tsx"],"names":["React","useEffect","useState","Cookies","withTranslation","Container","Hidden","TopHeaderContainer","BottomHeader","ModalComponent","AuthRegPage","AuthRegSm","useDispatch","setIsAuth","useStyles","Header","props","t","dispatch","cookies","isTokenExst","get","isOpen","setIsOpen","then","token","set","handleOpenModal","handleCloseModal","classes","root","bottomHeader","modalDialog"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAAQC,eAAR,QAA8B,eAA9B;AACA,SAAQC,SAAR,EAAmBC,MAAnB,QAAgC,mBAAhC;AACA,OAAOC,kBAAP,MAA+B,gCAA/B;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,SAAQC,cAAR,QAA6B,yBAA7B;AACA,SAAQC,WAAR,QAA0B,wBAA1B;AACA,SAAQC,SAAR,QAAwB,iCAAxB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,SAAR,QAAwB,+BAAxB,C,CAEA;;AACA,SAAQC,SAAR,QAAwB,aAAxB;;AAGA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AACtB,QAAM;AAACC,IAAAA;AAAD,MAAMD,KAAZ;AAEA,QAAME,QAAQ,GAAGN,WAAW,EAA5B;AAEA,QAAMO,OAAO,GAAG,IAAIhB,OAAJ,EAAhB;AACA,QAAMiB,WAAW,GAAG,CAAC,CAACD,OAAO,CAACE,GAAR,CAAY,OAAZ,CAAtB;AAEA,QAAM;AAAA,OAACC,MAAD;AAAA,OAASC;AAAT,MAAsBrB,QAAQ,CAAC,KAAD,CAApC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZiB,IAAAA,QAAQ,CACJL,SAAS,CAACO,WAAD,CAAT,CACKI,IADL,CACUC,KAAK,IAAIN,OAAO,CAACO,GAAR,CAAY,OAAZ,EAAqBD,KAArB,EAA4B,IAAI,IAAhC,CADnB,CADI,CAAR;AAIH,GALQ,EAKN,CAACL,WAAD,CALM,CAAT;;AAOA,QAAMO,eAAe,GAAG,MAAM;AAC1BJ,IAAAA,SAAS,CAAC,IAAD,CAAT;AACH,GAFD;;AAIA,QAAMK,gBAAgB,GAAG,MAAM;AAC3BL,IAAAA,SAAS,CAAC,KAAD,CAAT;AACH,GAFD;;AAIA,QAAMM,OAAO,GAAGf,SAAS,EAAzB;AACA,SACI;AAAQ,IAAA,SAAS,EAAEe,OAAO,CAACC;AAA3B,KACI,MAAC,SAAD;AAAW,IAAA,QAAQ,EAAC;AAApB,KACI,MAAC,kBAAD;AAAoB,IAAA,CAAC,EAAEb,CAAvB;AAA0B,IAAA,eAAe,EAAEU;AAA3C,IADJ,EAEI;AAAK,IAAA,SAAS,EAAEE,OAAO,CAACE;AAAxB,KACI,MAAC,YAAD;AAAc,IAAA,CAAC,EAAEd,CAAjB;AAAoB,IAAA,eAAe,EAAEU;AAArC,IADJ,CAFJ,CADJ,EAOI,MAAC,cAAD;AACI,IAAA,MAAM,EAAEL,MADZ;AAEI,IAAA,gBAAgB,EAAEM,gBAFtB;AAGI,IAAA,SAAS,EAAEC,OAAO,CAACG;AAHvB,KAKI,4BACI,MAAC,MAAD;AAAQ,IAAA,MAAM;AAAd,KACI,MAAC,WAAD;AACI,IAAA,CAAC,EAAEf,CADP;AAEI,IAAA,gBAAgB,EAAEW;AAFtB,IADJ,CADJ,EAOI,MAAC,MAAD;AAAQ,IAAA,IAAI;AAAZ,KACI,MAAC,SAAD;AACI,IAAA,CAAC,EAAEX,CADP;AAEI,IAAA,gBAAgB,EAAEW;AAFtB,IADJ,CAPJ,CALJ,CAPJ,CADJ;AA8BH,CAxDD;;AA0DA,eAAexB,eAAe,CAAC,CAAC,QAAD,EAAW,UAAX,EAAuB,QAAvB,CAAD,CAAf,CAAkDW,MAAlD,CAAf","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport Cookies from 'universal-cookie'\r\nimport {withTranslation} from '../../../i18n'\r\nimport {Container, Hidden} from '@material-ui/core'\r\nimport TopHeaderContainer from \"./topHeader/TopHeaderContainer\"\r\nimport BottomHeader from './bottomHeader/BottomHeader'\r\nimport {ModalComponent} from '../elements/modal/Modal'\r\nimport {AuthRegPage} from \"./auth_reg/AuthRegPage\"\r\nimport {AuthRegSm} from \"./auth_reg/auth_reg_sm/AutRegSm\"\r\nimport {useDispatch} from \"react-redux\"\r\nimport {setIsAuth} from '@src/redux/slices/authReducer'\r\n\r\n// styles\r\nimport {useStyles} from './useStyles'\r\n\r\n\r\nconst Header = (props) => {\r\n    const {t} = props;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const cookies = new Cookies();\r\n    const isTokenExst = !!cookies.get('token');\r\n\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        dispatch(\r\n            setIsAuth(isTokenExst)\r\n                .then(token => cookies.set('token', token, 2 * 3600))\r\n        );\r\n    }, [isTokenExst]);\r\n\r\n    const handleOpenModal = () => {\r\n        setIsOpen(true);\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setIsOpen(false);\r\n    };\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <header className={classes.root}>\r\n            <Container maxWidth=\"lg\">\r\n                <TopHeaderContainer t={t} handleOpenModal={handleOpenModal}/>\r\n                <div className={classes.bottomHeader}>\r\n                    <BottomHeader t={t} handleOpenModal={handleOpenModal}/>\r\n                </div>\r\n            </Container>\r\n            <ModalComponent\r\n                isOpen={isOpen}\r\n                handleCloseModal={handleCloseModal}\r\n                className={classes.modalDialog}\r\n            >\r\n                <>\r\n                    <Hidden smDown>\r\n                        <AuthRegPage\r\n                            t={t}\r\n                            handleCloseModal={handleCloseModal}\r\n                        />\r\n                    </Hidden>\r\n                    <Hidden mdUp>\r\n                        <AuthRegSm\r\n                            t={t}\r\n                            handleCloseModal={handleCloseModal}\r\n                        />\r\n                    </Hidden>\r\n                </>\r\n            </ModalComponent>\r\n        </header>\r\n    )\r\n};\r\n\r\nexport default withTranslation(['header', 'auth_reg', 'common'])(Header);\r\n"]},"metadata":{},"sourceType":"module"}