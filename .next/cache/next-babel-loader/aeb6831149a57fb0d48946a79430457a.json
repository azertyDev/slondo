{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport Cookies from 'universal-cookie';\nimport { i18n, useTranslation } from '@root/i18n';\nimport { Container, Modal, Typography } from '@material-ui/core';\nimport Top from \"./top/TopContainer\";\nimport Bottom from './bottom/Bottom';\nimport { AuthRegPage } from \"./auth_reg/AuthRegPage\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setIsAuthAction, setIsAuthModalOpen } from '@src/redux/slices/authRegSlice';\nimport { ButtonComponent } from \"@src/components/elements/button/Button\";\nimport { fetchCategories } from \"@src/redux/slices/categoriesSlice\";\nimport { fetchLocations } from \"@src/redux/slices/locationsSlice\";\nimport { useStyles } from './useStyles';\nexport var Header = function Header() {\n  var _useTranslation = useTranslation(['header', 'auth_reg', 'common']),\n      t = _useTranslation.t;\n\n  var cookies = new Cookies();\n  var isTokenExst = !!cookies.get('token');\n  var lang = i18n.language;\n\n  var _useSelector = useSelector(function (store) {\n    return store.auth;\n  }),\n      isAuth = _useSelector.isAuth,\n      isAuthModalOpen = _useSelector.isAuthModalOpen;\n\n  var dispatch = useDispatch();\n\n  var handleModal = function handleModal(value) {\n    return function () {\n      dispatch(setIsAuthModalOpen(value));\n    };\n  };\n\n  useEffect(function () {\n    dispatch(fetchCategories(lang));\n    dispatch(fetchLocations(lang));\n  }, [lang]);\n  useEffect(function () {\n    dispatch(setIsAuthAction(isTokenExst));\n  }, [isTokenExst]);\n  var classes = useStyles();\n  return __jsx(\"header\", {\n    className: classes.root,\n    id: \"back-to-top-anchor\"\n  }, __jsx(\"div\", {\n    className: \"header-wrapper\"\n  }, __jsx(Container, {\n    maxWidth: \"xl\"\n  }, __jsx(\"div\", {\n    className: \"top-wrapper\"\n  }, __jsx(Top, {\n    t: t,\n    handleOpenModal: handleModal(true)\n  })), __jsx(\"div\", null, __jsx(Bottom, {\n    t: t,\n    isAuth: isAuth,\n    handleOpenModal: handleModal(true)\n  }))), __jsx(Modal, {\n    open: isAuthModalOpen,\n    onClose: handleModal(false),\n    className: classes.modalDialog\n  }, __jsx(React.Fragment, null, isAuth ? __jsx(\"div\", {\n    style: {\n      width: '200px',\n      height: '80px',\n      backgroundColor: '#fff'\n    }\n  }, __jsx(Typography, {\n    variant: \"h5\"\n  }, \"\\u0412\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0441\\u0430\\u0439\\u0442\\u0430?\"), __jsx(\"div\", {\n    style: {\n      display: 'flex'\n    }\n  }, __jsx(ButtonComponent, {\n    onClick: handleModal(false)\n  }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"), __jsx(ButtonComponent, null, \"\\u0412\\u044B\\u0439\\u0442\\u0438\"))) : __jsx(AuthRegPage, {\n    t: t,\n    handleCloseModal: handleModal(false)\n  })))));\n};","map":null,"metadata":{},"sourceType":"module"}