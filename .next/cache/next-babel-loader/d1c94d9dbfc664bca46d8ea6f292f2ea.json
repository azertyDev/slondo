{"ast":null,"code":"import Axios from 'axios';\nimport Cookies from 'universal-cookie';\nvar cookies = new Cookies();\n\nvar _ref = cookies.get('token') || {\n  token: ''\n},\n    token = _ref.token;\n\nvar instance = Axios.create({\n  withCredentials: false,\n  baseURL: 'http://54.205.72.116/api/'\n});\nvar config = {\n  headers: {\n    Authorization: \"Bearer \".concat(token)\n  }\n};\nexport var userAPI = {\n  login: function login(phone, password) {\n    var form = new FormData();\n    form.set('phone', phone);\n    form.set('password', password);\n    return instance.post(\"login\", form, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(function (res) {\n      return res.data;\n    })[\"catch\"](function (err) {\n      throw err;\n    });\n  },\n  getCategories: function getCategories(lang) {\n    return instance.get(\"categories/main?lang=\".concat(lang)).then(function (res) {\n      return res.data;\n    })[\"catch\"](function (err) {\n      throw err;\n    });\n  },\n  getAdDataForCreate: function getAdDataForCreate(ctgryID, subCtgryID, lang) {\n    return instance.get(\"regular/subcategory?parent_id=\".concat(ctgryID, \"&lang=\").concat(lang, \"&child_id=\").concat(subCtgryID), config).then(function (res) {\n      return res.data;\n    })[\"catch\"](function (err) {\n      throw err;\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/abror/Documents/projects/slondo/src/api/api.tsx"],"names":["Axios","Cookies","cookies","get","token","instance","create","withCredentials","baseURL","config","headers","Authorization","userAPI","login","phone","password","form","FormData","set","post","then","res","data","err","getCategories","lang","getAdDataForCreate","ctgryID","subCtgryID"],"mappings":"AAAA,OAAOA,KAAP,MAAmC,OAAnC;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAEA,IAAMC,OAAO,GAAG,IAAID,OAAJ,EAAhB;;WACgBC,OAAO,CAACC,GAAR,CAAY,OAAZ,KAAwB;AAACC,EAAAA,KAAK,EAAE;AAAR,C;IAAjCA,K,QAAAA,K;;AAEP,IAAMC,QAAQ,GAAGL,KAAK,CAACM,MAAN,CAAa;AAC1BC,EAAAA,eAAe,EAAE,KADS;AAE1BC,EAAAA,OAAO,EAAE;AAFiB,CAAb,CAAjB;AAKA,IAAMC,MAAM,GAAG;AACXC,EAAAA,OAAO,EAAE;AAACC,IAAAA,aAAa,mBAAYP,KAAZ;AAAd;AADE,CAAf;AAIA,OAAO,IAAMQ,OAAO,GAAG;AACnBC,EAAAA,KAAK,EAAE,eAACC,KAAD,EAAgBC,QAAhB,EAA6D;AAChE,QAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAD,IAAAA,IAAI,CAACE,GAAL,CAAS,OAAT,EAAkBJ,KAAlB;AACAE,IAAAA,IAAI,CAACE,GAAL,CAAS,UAAT,EAAqBH,QAArB;AACA,WAAOV,QAAQ,CAACc,IAAT,UAAuBH,IAAvB,EAA6B;AAChCN,MAAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB;AADuB,KAA7B,EAGFU,IAHE,CAGG,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAR;AAAA,KAHN,WAII,UAAAC,GAAG,EAAI;AACV,YAAMA,GAAN;AACH,KANE,CAAP;AAOH,GAZkB;AAanBC,EAAAA,aAAa,EAAE,uBAACC,IAAD,EAA0C;AACrD,WAAOpB,QAAQ,CAACF,GAAT,gCAAqCsB,IAArC,GACFL,IADE,CACG,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAR;AAAA,KADN,WAEI,UAAAC,GAAG,EAAI;AACV,YAAMA,GAAN;AACH,KAJE,CAAP;AAKH,GAnBkB;AAoBnBG,EAAAA,kBAAkB,EAAE,4BAACC,OAAD,EAAkBC,UAAlB,EAAsCH,IAAtC,EAA+E;AAC/F,WAAOpB,QAAQ,CAACF,GAAT,yCAA8CwB,OAA9C,mBAA8DF,IAA9D,uBAA+EG,UAA/E,GAA6FnB,MAA7F,EACFW,IADE,CACG,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAR;AAAA,KADN,WAEI,UAAAC,GAAG,EAAI;AACV,YAAMA,GAAN;AACH,KAJE,CAAP;AAKH;AA1BkB,CAAhB","sourcesContent":["import Axios, {AxiosInstance} from 'axios';\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst cookies = new Cookies();\r\nconst {token} = cookies.get('token') || {token: ''};\r\n\r\nconst instance = Axios.create({\r\n    withCredentials: false,\r\n    baseURL: 'http://54.205.72.116/api/'\r\n});\r\n\r\nconst config = {\r\n    headers: {Authorization: `Bearer ${token}`}\r\n};\r\n\r\nexport const userAPI = {\r\n    login: (phone: string, password: string): Promise<AxiosInstance> => {\r\n        const form = new FormData();\r\n        form.set('phone', phone);\r\n        form.set('password', password);\r\n        return instance.post(`login`, form, {\r\n            headers: {'Content-Type': 'multipart/form-data'}\r\n        })\r\n            .then(res => res.data)\r\n            .catch(err => {\r\n                throw err\r\n            })\r\n    },\r\n    getCategories: (lang: string): Promise<AxiosInstance> => {\r\n        return instance.get(`categories/main?lang=${lang}`)\r\n            .then(res => res.data)\r\n            .catch(err => {\r\n                throw err\r\n            })\r\n    },\r\n    getAdDataForCreate: (ctgryID: number, subCtgryID: number, lang: string): Promise<AxiosInstance> => {\r\n        return instance.get(`regular/subcategory?parent_id=${ctgryID}&lang=${lang}&child_id=${subCtgryID}`, config)\r\n            .then(res => res.data)\r\n            .catch(err => {\r\n                throw err\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}