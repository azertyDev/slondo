{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { object, number, string, array, mixed, lazy } from \"yup\";\nexport var isRequired = function isRequired(field) {\n  var reqList = ['year', 'mileage', 'body', 'manufacturer', 'models', 'colors', 'car_engine_type', 'transmission', 'transport_type', 'area_value'];\n  return reqList.some(function (reqField) {\n    return reqField === field;\n  });\n};\nvar requiredMsg = 'Обязательное поле!';\nvar lazyAdParams = lazy(function (value) {\n  return object(Object.entries(value).reduce(function (acc, _ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        key = _ref2[0];\n\n    if (isRequired(key)) {\n      if (typeof value[key] === 'object') {\n        acc[key] = object({\n          id: number().nullable().required(requiredMsg)\n        });\n      } else {\n        acc[key] = string().required(requiredMsg);\n      }\n    }\n\n    return acc;\n  }, {}));\n});\nexport var createAdvrtSchema = object().shape({\n  title: string().required(requiredMsg),\n  price: string().required(requiredMsg),\n  currency: lazy(function (value) {\n    return value !== undefined ? object({\n      id: number().nullable().required(requiredMsg)\n    }) : mixed().notRequired();\n  }),\n  location: object({\n    city_id: number().required(requiredMsg)\n  }).nullable().required(requiredMsg),\n  files: array().required(requiredMsg),\n  description: string().required(requiredMsg),\n  adParams: lazyAdParams\n});","map":null,"metadata":{},"sourceType":"module"}