{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport { userAPI } from \"@src/api/api\";\nimport { i18n } from '@root/i18n';\nimport { useRouter } from 'next/router';\nimport { ShowAdLot } from \"@src/components/advertisement/showAdvertisement/ShowAdLot\";\nvar initialAdData = {\n  isFetch: false,\n  error: null,\n  data: {\n    id: null,\n    title: '',\n    currency: {\n      id: null,\n      name: ''\n    },\n    condition: {\n      id: null,\n      name: ''\n    },\n    created_at: null,\n    expiration_at: null,\n    number_of_views: null,\n    images: [],\n    description: ''\n  }\n};\nexport var ShowAdLotContainer = function ShowAdLotContainer(_ref) {\n  _s();\n\n  var t = _ref.t;\n\n  var _useState = useState(initialAdData),\n      adData = _useState[0],\n      setAdData = _useState[1];\n\n  var adsId = useRouter().query.id;\n  var lang = i18n.language;\n\n  var fetchAdData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var newData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setAdData(_objectSpread(_objectSpread({}, adData), {}, {\n                isFetch: true\n              }));\n              _context.next = 4;\n              return userAPI.getAddById(adsId, lang);\n\n            case 4:\n              newData = _context.sent;\n              setAdData(_objectSpread(_objectSpread({}, adData), {}, {\n                isFetch: false\n              }));\n              setAdData(_objectSpread(_objectSpread({}, adData), {}, {\n                data: newData\n              }));\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              setAdData(_objectSpread(_objectSpread({}, adData), {}, {\n                error: _context.t0.message\n              }));\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n\n    return function fetchAdData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchAdData();\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(ShowAdLot, {\n    adData: adData,\n    t: t\n  }));\n};\n\n_s(ShowAdLotContainer, \"72t1xslJSWFbvng2H5VcWfFxNeY=\", false, function () {\n  return [useRouter];\n});\n\n_c = ShowAdLotContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowAdLotContainer\");","map":{"version":3,"sources":["C:/Users/abror/Documents/projects/slondo/src/components/advertisement/showAdvertisement/showAdLotContainer.tsx"],"names":["React","useEffect","useState","userAPI","i18n","useRouter","ShowAdLot","initialAdData","isFetch","error","data","id","title","currency","name","condition","created_at","expiration_at","number_of_views","images","description","ShowAdLotContainer","t","adData","setAdData","adsId","query","lang","language","fetchAdData","getAddById","newData","message"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,OAAR,QAAsB,cAAtB;AACA,SAAQC,IAAR,QAAmB,YAAnB;AACA,SAAQC,SAAR,QAAwB,aAAxB;AACA,SAAQC,SAAR,QAAwB,2DAAxB;AAEA,IAAMC,aAAa,GAAG;AAClBC,EAAAA,OAAO,EAAE,KADS;AAElBC,EAAAA,KAAK,EAAE,IAFW;AAGlBC,EAAAA,IAAI,EAAE;AACFC,IAAAA,EAAE,EAAE,IADF;AAEFC,IAAAA,KAAK,EAAE,EAFL;AAGFC,IAAAA,QAAQ,EAAE;AACNF,MAAAA,EAAE,EAAE,IADE;AAENG,MAAAA,IAAI,EAAE;AAFA,KAHR;AAOFC,IAAAA,SAAS,EAAE;AACPJ,MAAAA,EAAE,EAAE,IADG;AAEPG,MAAAA,IAAI,EAAE;AAFC,KAPT;AAWFE,IAAAA,UAAU,EAAE,IAXV;AAYFC,IAAAA,aAAa,EAAE,IAZb;AAaFC,IAAAA,eAAe,EAAE,IAbf;AAcFC,IAAAA,MAAM,EAAE,EAdN;AAeFC,IAAAA,WAAW,EAAE;AAfX;AAHY,CAAtB;AAsBA,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,OAAS;AAAA;;AAAA,MAAPC,CAAO,QAAPA,CAAO;;AAAA,kBACXpB,QAAQ,CAACK,aAAD,CADG;AAAA,MAChCgB,MADgC;AAAA,MACxBC,SADwB;;AAEvC,MAAMC,KAAK,GAAGpB,SAAS,GAAGqB,KAAZ,CAAkBf,EAAhC;AACA,MAAMgB,IAAI,GAAGvB,IAAI,CAACwB,QAAlB;;AAEA,MAAMC,WAAW;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEZL,cAAAA,SAAS,iCACFD,MADE;AAELf,gBAAAA,OAAO,EAAE;AAFJ,iBAAT;AAFY;AAAA,qBAOUL,OAAO,CAAC2B,UAAR,CAAmBL,KAAnB,EAA0BE,IAA1B,CAPV;;AAAA;AAONI,cAAAA,OAPM;AASZP,cAAAA,SAAS,iCACFD,MADE;AAELf,gBAAAA,OAAO,EAAE;AAFJ,iBAAT;AAKAgB,cAAAA,SAAS,iCACFD,MADE;AAELb,gBAAAA,IAAI,EAAEqB;AAFD,iBAAT;AAdY;AAAA;;AAAA;AAAA;AAAA;AAoBZP,cAAAA,SAAS,iCACFD,MADE;AAELd,gBAAAA,KAAK,EAAE,YAAEuB;AAFJ,iBAAT;;AApBY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXH,WAAW;AAAA;AAAA;AAAA,KAAjB;;AA2BA5B,EAAAA,SAAS,CAAC,YAAM;AACZ4B,IAAAA,WAAW;AACd,GAFQ,EAEN,EAFM,CAAT;AAIA,SACI,4BACI,MAAC,SAAD;AAAW,IAAA,MAAM,EAAEN,MAAnB;AAA2B,IAAA,CAAC,EAAED;AAA9B,IADJ,CADJ;AAKH,CAzCM;;GAAMD,kB;UAEKhB,S;;;KAFLgB,kB","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport {userAPI} from \"@src/api/api\";\r\nimport {i18n} from '@root/i18n';\r\nimport {useRouter} from 'next/router';\r\nimport {ShowAdLot} from \"@src/components/advertisement/showAdvertisement/ShowAdLot\";\r\n\r\nconst initialAdData = {\r\n    isFetch: false,\r\n    error: null,\r\n    data: {\r\n        id: null,\r\n        title: '',\r\n        currency: {\r\n            id: null,\r\n            name: ''\r\n        },\r\n        condition: {\r\n            id: null,\r\n            name: ''\r\n        },\r\n        created_at: null,\r\n        expiration_at: null,\r\n        number_of_views: null,\r\n        images: [],\r\n        description: ''\r\n    },\r\n};\r\n\r\nexport const ShowAdLotContainer = ({t}) => {\r\n    const [adData, setAdData] = useState(initialAdData);\r\n    const adsId = useRouter().query.id;\r\n    const lang = i18n.language;\r\n\r\n    const fetchAdData = async () => {\r\n        try {\r\n            setAdData({\r\n                ...adData,\r\n                isFetch: true\r\n            });\r\n\r\n            const newData = await userAPI.getAddById(adsId, lang);\r\n\r\n            setAdData({\r\n                ...adData,\r\n                isFetch: false\r\n            });\r\n\r\n            setAdData({\r\n                ...adData,\r\n                data: newData\r\n            });\r\n\r\n        } catch (e) {\r\n            setAdData({\r\n                ...adData,\r\n                error: e.message\r\n            });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchAdData()\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <ShowAdLot adData={adData} t={t}/>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}