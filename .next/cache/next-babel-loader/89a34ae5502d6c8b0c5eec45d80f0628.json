{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { lazy, mixed, object, number } from \"yup\";\nvar requiredList = {\n  drive: true,\n  seats: true\n};\n\nvar lazyFunc = function lazyFunc(value) {\n  var valueKeys = Object.keys(value);\n\n  if (valueKeys.some(function (key) {\n    return requiredList[key];\n  })) {\n    console.log(value);\n    return object().shape(_defineProperty({}, value.name, object({\n      id: number().nullable().required('Обязательный параметр!')\n    })));\n  }\n\n  return mixed().notRequired();\n};\n\nexport var createAdvrtSchema = object({\n  // title: string().required('Обязательное поле!'),\n  // location: string().required('Обязательное поле!'),\n  // files: array().required('Загрузите фотографии!'),\n  // description: string().required('Обязательное поле!'),\n  // phone: string().required('Обязательное поле!'),\n  adsParams: lazy(lazyFunc)\n});","map":{"version":3,"sources":["C:/Users/abror/Documents/projects/slondo/validation_schemas/createAdvrtSchema.ts"],"names":["lazy","mixed","object","number","requiredList","drive","seats","lazyFunc","value","valueKeys","Object","keys","some","key","console","log","shape","name","id","nullable","required","notRequired","createAdvrtSchema","adsParams"],"mappings":";AAAA,SAAQA,IAAR,EAAcC,KAAd,EAA6BC,MAA7B,EAA4CC,MAA5C,QAAyD,KAAzD;AAGA,IAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,IADU;AAEjBC,EAAAA,KAAK,EAAE;AAFU,CAArB;;AAKA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AACxB,MAAMC,SAAS,GAAGC,MAAM,CAACC,IAAP,CAAYH,KAAZ,CAAlB;;AAEA,MAAIC,SAAS,CAACG,IAAV,CAAe,UAAAC,GAAG;AAAA,WAAIT,YAAY,CAACS,GAAD,CAAhB;AAAA,GAAlB,CAAJ,EAA8C;AAC1CC,IAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACA,WAAON,MAAM,GAAGc,KAAT,qBACFR,KAAK,CAACS,IADJ,EACWf,MAAM,CAAC;AACjBgB,MAAAA,EAAE,EAAEf,MAAM,GAAGgB,QAAT,GAAoBC,QAApB,CAA6B,wBAA7B;AADa,KAAD,CADjB,EAAP;AAKH;;AAED,SAAOnB,KAAK,GAAGoB,WAAR,EAAP;AACH,CAbD;;AAeA,OAAO,IAAMC,iBAAiB,GAAGpB,MAAM,CAAC;AACpC;AACA;AACA;AACA;AACA;AACAqB,EAAAA,SAAS,EAAEvB,IAAI,CAACO,QAAD;AANqB,CAAD,CAAhC","sourcesContent":["import {lazy, mixed, string, object, array, number} from \"yup\";\r\n\r\n\r\nconst requiredList = {\r\n    drive: true,\r\n    seats: true\r\n};\r\n\r\nconst lazyFunc = (value) => {\r\n    const valueKeys = Object.keys(value);\r\n\r\n    if (valueKeys.some(key => requiredList[key])) {\r\n        console.log(value)\r\n        return object().shape({\r\n            [value.name]: object({\r\n                id: number().nullable().required('Обязательный параметр!')\r\n            })\r\n        });\r\n    }\r\n\r\n    return mixed().notRequired();\r\n};\r\n\r\nexport const createAdvrtSchema = object({\r\n    // title: string().required('Обязательное поле!'),\r\n    // location: string().required('Обязательное поле!'),\r\n    // files: array().required('Загрузите фотографии!'),\r\n    // description: string().required('Обязательное поле!'),\r\n    // phone: string().required('Обязательное поле!'),\r\n    adsParams: lazy(lazyFunc)\r\n});"]},"metadata":{},"sourceType":"module"}