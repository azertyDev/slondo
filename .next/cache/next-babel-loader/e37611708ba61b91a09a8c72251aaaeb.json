{"ast":null,"code":"import { object, number, string, array, mixed, lazy } from \"yup\";\nexport const isRequired = field => {\n  const reqList = ['year', 'mileage', 'body', 'manufacturer', 'models', 'colors', 'car_engine_type', 'transmission', 'transport_type', 'area_value'];\n  return reqList.some(reqField => reqField === field);\n};\nconst requiredMsg = 'Обязательное поле!';\nconst lazyAdParams = lazy(value => object(Object.entries(value).reduce((acc, [key]) => {\n  if (isRequired(key)) {\n    if (typeof value[key] === 'object') {\n      acc[key] = object({\n        id: number().nullable().required(requiredMsg)\n      });\n    } else {\n      acc[key] = string().required(requiredMsg);\n    }\n  }\n\n  return acc;\n}, {})));\nexport const createAdvrtSchema = object().shape({\n  title: string().required(requiredMsg),\n  price: string().required(requiredMsg),\n  currency: lazy(value => value !== undefined ? object({\n    id: number().nullable().required(requiredMsg)\n  }) : mixed().notRequired()),\n  location: object({\n    city_id: number().required(requiredMsg)\n  }).nullable().required(requiredMsg),\n  files: array().required(requiredMsg),\n  description: string().required(requiredMsg),\n  adParams: lazyAdParams\n});","map":null,"metadata":{},"sourceType":"module"}