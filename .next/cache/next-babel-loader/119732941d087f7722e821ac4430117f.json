{"ast":null,"code":"var _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Modal, Typography } from '@material-ui/core';\nimport { SyncSliders } from './sync_sliders/SyncSliders';\nimport { ReadMore } from '@src/components/elements/read_more/readMore';\nimport { LocationIcon } from '@src/components/elements/icons/LocationIcon';\nimport { WarningIcon } from '@src/components/elements/icons/WarningIcon';\nimport { PhoneIcon } from '@src/components/elements/icons/PhoneIcon';\nimport { SwapIcon } from '@src/components/elements/icons/SwapIcon';\nimport { SafeIcon } from '@src/components/elements/icons/SafeIcon';\nimport { DeliveryIcon } from '@src/components/elements/icons/DeliveryIcon';\nimport { useStyles } from './useStyles';\nimport { ModalSyncSliders } from './modal_sync_sliders/ModalSyncSliders';\nimport { BreadcrumbsComponent } from '@src/components/elements/breadcrumbs/Breadcrumbs';\nimport { Link } from '@root/i18n';\nexport var AncmntContent = function AncmntContent(_ref) {\n  _s();\n\n  var _data$region$name;\n\n  var data = _ref.data,\n      parameters = _ref.parameters,\n      t = _ref.t;\n\n  var _useState = useState(0),\n      initialSlide = _useState[0],\n      setInitialSlide = _useState[1];\n\n  var _useState2 = useState(false),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var date = new Date(data.created_at);\n  var months = ['января', 'февраля', 'марта', 'апреля', 'мая', 'июня', 'июля', 'августа', 'сентября', 'октября', 'ноября', 'декабря'];\n  var formatted_date = date.getDate() + ' ' + months[date.getMonth()] + ' ' + date.getFullYear();\n\n  var handleShowModal = function handleShowModal(value) {\n    return function () {\n      setOpen(value);\n    };\n  };\n\n  var excludedFields = ['id', 'type', 'sub_type', 'uniqid', 'color_id'];\n  var parameterItems = Object.keys(parameters).reduce(function (items, key, i) {\n    if (parameters[key] !== null && excludedFields.every(function (k) {\n      return k !== key;\n    })) {\n      if (Array.isArray(parameters[key]) && parameters[key].length !== 0) {\n        var params = __jsx(\"li\", null, __jsx(Typography, {\n          variant: \"subtitle1\",\n          className: \"value\"\n        }, parameters[key].map(function (param) {\n          return param.name;\n        }).join(', ')));\n\n        items.push(__jsx(\"div\", {\n          key: i,\n          className: \"params-list\"\n        }, __jsx(Typography, {\n          variant: \"subtitle1\"\n        }, key), __jsx(\"ul\", null, params)));\n      } else if (!Array.isArray(parameters[key])) {\n        items.push(__jsx(\"li\", {\n          key: key\n        }, __jsx(Typography, {\n          variant: \"subtitle1\",\n          className: \"key\"\n        }, t(\"\".concat(key))), __jsx(Typography, {\n          variant: \"subtitle1\",\n          className: \"value\"\n        }, typeof parameters[key] === 'string' || typeof parameters[key] === 'number' ? parameters[key] : parameters[key].name)));\n      }\n    }\n\n    return items;\n  }, []);\n  var classes = useStyles();\n  return __jsx(\"div\", {\n    className: classes.root\n  }, __jsx(\"div\", {\n    className: \"breadcrumbs\"\n  }, __jsx(BreadcrumbsComponent, null, __jsx(Link, {\n    href: \"#\"\n  }, __jsx(\"a\", null, __jsx(Typography, {\n    variant: \"subtitle1\",\n    noWrap: true\n  }, data.parent.name))), data.child.id && __jsx(Link, {\n    href: \"#\"\n  }, __jsx(\"a\", null, __jsx(Typography, {\n    variant: \"subtitle1\",\n    noWrap: true\n  }, data.child.name))), parameters.type && __jsx(Link, {\n    href: \"#\"\n  }, __jsx(\"a\", null, __jsx(Typography, {\n    variant: \"subtitle1\",\n    noWrap: true\n  }, parameters.type.name))), __jsx(Typography, {\n    variant: \"subtitle1\",\n    color: \"primary\",\n    noWrap: true\n  }, data.title))), __jsx(\"div\", {\n    className: \"adv-header\"\n  }, __jsx(\"div\", null, __jsx(Typography, {\n    variant: \"h6\",\n    className: data.ads_type.id === 1 ? 'advertisement' : data.ads_type.id === 2 ? 'lot' : 'advanced-lot'\n  }, data.ads_type.name)), __jsx(\"div\", {\n    className: \"title\"\n  }, __jsx(Typography, {\n    variant: \"h2\",\n    noWrap: true\n  }, data.title)), true && __jsx(\"div\", {\n    className: \"condition\"\n  }, __jsx(Typography, {\n    variant: \"h6\"\n  }, \"\\u0411/\\u0423\"))), __jsx(SyncSliders, {\n    imgs: data.images,\n    setInitialSlide: setInitialSlide,\n    handleOpenModal: handleShowModal(true)\n  }), __jsx(\"div\", {\n    className: \"ad-info\"\n  }, __jsx(Typography, {\n    variant: \"subtitle1\"\n  }, __jsx(\"span\", null, \"\\u041E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u2116:\"), \" \", data.id), __jsx(Typography, {\n    variant: \"subtitle1\"\n  }, \"\\u041E\\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u043E\\u0432\\u0430\\u043D\\u043E: \", formatted_date), __jsx(Typography, {\n    variant: \"subtitle1\"\n  }, \"\\u041F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u043E\\u0432: \", data.number_of_views), __jsx(Typography, {\n    variant: \"subtitle1\"\n  }, \"\\u041F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F \", __jsx(WarningIcon, null))), __jsx(\"div\", {\n    className: \"ad-bonus\"\n  }, !!data.delivery && __jsx(\"span\", {\n    className: \"delivery\"\n  }, __jsx(DeliveryIcon, null), \"\\xA0\", __jsx(Typography, {\n    variant: \"subtitle1\"\n  }, \"\\u0415\\u0441\\u0442\\u044C \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430\")), !!data.safe_deal && __jsx(\"span\", {\n    className: \"safe_deal\"\n  }, __jsx(SafeIcon, null), \"\\xA0\", __jsx(Typography, {\n    variant: \"subtitle1\"\n  }, \"\\u0411\\u0435\\u0437\\u043E\\u043F\\u0430\\u0441\\u043D\\u0430\\u044F \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0430\")), !!data.exchange && __jsx(\"span\", {\n    className: \"exchange\"\n  }, __jsx(SwapIcon, null), \"\\xA0\", __jsx(Typography, {\n    variant: \"subtitle1\"\n  }, \"\\u0412\\u043E\\u0437\\u043C\\u043E\\u0436\\u0435\\u043D \\u043E\\u0431\\u043C\\u0435\\u043D\")), !!data.available_start_time && __jsx(\"span\", {\n    className: \"available\"\n  }, __jsx(PhoneIcon, null), \"\\xA0\", __jsx(Typography, {\n    variant: \"subtitle1\"\n  }, data.available_start_time, \" -\", ' ', data.available_end_time))), __jsx(\"div\", {\n    className: \"ad-location\"\n  }, __jsx(Typography, {\n    variant: \"button\",\n    noWrap: true\n  }, \"\\u041C\\u0435\\u0441\\u0442\\u043E\\u043F\\u043E\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435\"), data.region.name || data.city.name || data.district.name ? __jsx(Typography, {\n    variant: \"subtitle1\",\n    noWrap: true\n  }, __jsx(LocationIcon, null), \"\".concat((_data$region$name = data.region.name) !== null && _data$region$name !== void 0 ? _data$region$name : ''), data.city.name ? \", \".concat(data.city.name) : '', data.district.name ? \", \".concat(data.district.name) : '') : __jsx(Typography, {\n    variant: \"subtitle1\"\n  }, \"\\u041D\\u0435 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\\u043E\")), __jsx(\"div\", {\n    className: \"ad-description\"\n  }, __jsx(Typography, {\n    variant: \"button\",\n    color: \"initial\"\n  }, \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"), data.description.length < 420 ? __jsx(Typography, {\n    variant: \"subtitle1\",\n    color: \"initial\"\n  }, data.description) : __jsx(ReadMore, data, __jsx(Typography, {\n    variant: \"subtitle1\",\n    color: \"initial\",\n    id: \"description\"\n  }, data.description))), __jsx(\"div\", {\n    className: \"ad-category\"\n  }, __jsx(Typography, {\n    variant: \"button\",\n    color: \"initial\"\n  }, \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"), __jsx(\"div\", null, __jsx(Typography, {\n    variant: \"subtitle1\",\n    color: \"initial\"\n  }, data.parent.name, data.child.id && __jsx(React.Fragment, null, \"\\xA0- \", data.child.name), parameters.type && __jsx(React.Fragment, null, \"\\xA0- \", parameters.type.name), parameters.sub_type && __jsx(React.Fragment, null, \"\\xA0- \", __jsx(\"span\", null, parameters.sub_type.name))))), data.ads_type.name !== 'Обычный' && __jsx(\"div\", {\n    className: \"started-price\"\n  }, __jsx(Typography, {\n    variant: \"button\"\n  }, \"\\u0421\\u0442\\u0430\\u0440\\u0442\\u043E\\u0432\\u0430\\u044F \\u0446\\u0435\\u043D\\u0430\"), __jsx(\"span\", null, __jsx(Typography, {\n    variant: \"body2\"\n  }, data.price, \" \", data.currency.name))), !!parameterItems.length && __jsx(\"div\", {\n    className: \"ad-parameters\"\n  }, __jsx(Typography, {\n    variant: \"button\",\n    color: \"initial\"\n  }, \"\\u041F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u044B\"), __jsx(\"ul\", null, parameterItems)), __jsx(Modal, {\n    open: open,\n    onClose: handleShowModal(false),\n    className: classes.modal\n  }, __jsx(ModalSyncSliders, {\n    title: data.title,\n    imgs: data.images,\n    initialSlide: initialSlide,\n    setInitialSlide: setInitialSlide\n  })));\n};\n\n_s(AncmntContent, \"ESilVoOcg18WkSnbTBEeOlRSRW4=\", false, function () {\n  return [useStyles];\n});\n\n_c = AncmntContent;\n\nvar _c;\n\n$RefreshReg$(_c, \"AncmntContent\");","map":{"version":3,"sources":["C:/Users/abror/Documents/projects/slondo/src/components/announcement/show_ancmnt/ancmnt_content/AncmntContent.tsx"],"names":["React","useState","Modal","Typography","SyncSliders","ReadMore","LocationIcon","WarningIcon","PhoneIcon","SwapIcon","SafeIcon","DeliveryIcon","useStyles","ModalSyncSliders","BreadcrumbsComponent","Link","AncmntContent","data","parameters","t","initialSlide","setInitialSlide","open","setOpen","date","Date","created_at","months","formatted_date","getDate","getMonth","getFullYear","handleShowModal","value","excludedFields","parameterItems","Object","keys","reduce","items","key","i","every","k","Array","isArray","length","params","map","param","name","join","push","classes","root","parent","child","id","type","title","ads_type","images","number_of_views","delivery","safe_deal","exchange","available_start_time","available_end_time","region","city","district","description","sub_type","price","currency","modal"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport {Container, Modal, Typography} from '@material-ui/core';\r\nimport {SyncSliders} from './sync_sliders/SyncSliders';\r\nimport {ReadMore} from '@src/components/elements/read_more/readMore';\r\nimport {LocationIcon} from '@src/components/elements/icons/LocationIcon';\r\nimport {WarningIcon} from '@src/components/elements/icons/WarningIcon';\r\nimport {PhoneIcon} from '@src/components/elements/icons/PhoneIcon';\r\nimport {SwapIcon} from '@src/components/elements/icons/SwapIcon';\r\nimport {SafeIcon} from '@src/components/elements/icons/SafeIcon';\r\nimport {DeliveryIcon} from '@src/components/elements/icons/DeliveryIcon';\r\nimport {useStyles} from './useStyles';\r\nimport {ModalSyncSliders} from './modal_sync_sliders/ModalSyncSliders';\r\nimport {BreadcrumbsComponent} from '@src/components/elements/breadcrumbs/Breadcrumbs';\r\nimport {Link} from '@root/i18n';\r\n\r\n\r\nexport const AncmntContent = ({data, parameters, t}) => {\r\n    const [initialSlide, setInitialSlide] = useState(0);\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const date = new Date(data.created_at);\r\n    const months = [\r\n        'января',\r\n        'февраля',\r\n        'марта',\r\n        'апреля',\r\n        'мая',\r\n        'июня',\r\n        'июля',\r\n        'августа',\r\n        'сентября',\r\n        'октября',\r\n        'ноября',\r\n        'декабря',\r\n    ];\r\n    const formatted_date =\r\n        date.getDate() +\r\n        ' ' +\r\n        months[date.getMonth()] +\r\n        ' ' +\r\n        date.getFullYear();\r\n\r\n    const handleShowModal = (value) => () => {\r\n        setOpen(value);\r\n    };\r\n\r\n    const excludedFields = ['id', 'type', 'sub_type', 'uniqid', 'color_id'];\r\n\r\n    const parameterItems = Object.keys(parameters).reduce((items, key, i) => {\r\n        if (\r\n            parameters[key] !== null &&\r\n            excludedFields.every((k) => k !== key)\r\n        ) {\r\n            if (\r\n                Array.isArray(parameters[key]) &&\r\n                parameters[key].length !== 0\r\n            ) {\r\n                const params = (\r\n                    <li>\r\n                        <Typography variant=\"subtitle1\" className=\"value\">\r\n                            {parameters[key]\r\n                                .map((param) => param.name)\r\n                                .join(', ')}\r\n                        </Typography>\r\n                    </li>\r\n                );\r\n\r\n                items.push(\r\n                    <div key={i} className=\"params-list\">\r\n                        <Typography variant=\"subtitle1\">{key}</Typography>\r\n                        <ul>{params}</ul>\r\n                    </div>,\r\n                );\r\n            } else if (!Array.isArray(parameters[key])) {\r\n                items.push(\r\n                    <li key={key}>\r\n                        <Typography variant=\"subtitle1\" className=\"key\">\r\n                            {t(`${key}`)}\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle1\" className=\"value\">\r\n                            {typeof parameters[key] === 'string' ||\r\n                            typeof parameters[key] === 'number'\r\n                                ? parameters[key]\r\n                                : parameters[key].name}\r\n                        </Typography>\r\n                    </li>,\r\n                );\r\n            }\r\n        }\r\n        return items;\r\n    }, []);\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.root}>\r\n            <div className=\"breadcrumbs\">\r\n                <BreadcrumbsComponent>\r\n                    <Link href=\"#\">\r\n                        <a>\r\n                            <Typography variant=\"subtitle1\" noWrap>\r\n                                {data.parent.name}\r\n                            </Typography>\r\n                        </a>\r\n                    </Link>\r\n                    {data.child.id && (\r\n                        <Link href=\"#\">\r\n                            <a>\r\n                                <Typography variant=\"subtitle1\" noWrap>\r\n                                    {data.child.name}\r\n                                </Typography>\r\n                            </a>\r\n                        </Link>\r\n                    )}\r\n                    {parameters.type && (\r\n                        <Link href=\"#\">\r\n                            <a>\r\n                                <Typography variant=\"subtitle1\" noWrap>\r\n                                    {parameters.type.name}\r\n                                </Typography>\r\n                            </a>\r\n                        </Link>\r\n                    )}\r\n                    <Typography variant=\"subtitle1\" color=\"primary\" noWrap>\r\n                        {data.title}\r\n                    </Typography>\r\n                </BreadcrumbsComponent>\r\n            </div>\r\n            <div className=\"adv-header\">\r\n                <div>\r\n                    <Typography\r\n                        variant=\"h6\"\r\n                        className={\r\n                            data.ads_type.id === 1\r\n                                ? 'advertisement'\r\n                                : data.ads_type.id === 2\r\n                                ? 'lot'\r\n                                : 'advanced-lot'\r\n                        }\r\n                    >\r\n                        {data.ads_type.name}\r\n                    </Typography>\r\n                </div>\r\n                <div className=\"title\">\r\n                    <Typography variant=\"h2\" noWrap>\r\n                        {data.title}\r\n                    </Typography>\r\n                </div>\r\n                {/* data.condition.id */}\r\n                {true && (\r\n                    <div className=\"condition\">\r\n                        <Typography variant=\"h6\">\r\n                            {/* {data.condition.name} */}\r\n                            Б/У\r\n                        </Typography>\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <SyncSliders\r\n                imgs={data.images}\r\n                setInitialSlide={setInitialSlide}\r\n                handleOpenModal={handleShowModal(true)}\r\n            />\r\n            <div className=\"ad-info\">\r\n                <Typography variant=\"subtitle1\">\r\n                    <span>Объявление №:</span> {data.id}\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\">\r\n                    Опубликовано: {formatted_date}\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\">\r\n                    Просмотров: {data.number_of_views}\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\">\r\n                    Пожаловаться <WarningIcon/>\r\n                </Typography>\r\n            </div>\r\n            <div className=\"ad-bonus\">\r\n                {!!data.delivery && (\r\n                    <span className=\"delivery\">\r\n                        <DeliveryIcon/>\r\n                        &nbsp;\r\n                        <Typography variant=\"subtitle1\">\r\n                            Есть доставка\r\n                        </Typography>\r\n                    </span>\r\n                )}\r\n                {!!data.safe_deal && (\r\n                    <span className=\"safe_deal\">\r\n                        <SafeIcon/>\r\n                        &nbsp;\r\n                        <Typography variant=\"subtitle1\">\r\n                            Безопасная покупка\r\n                        </Typography>\r\n                    </span>\r\n                )}\r\n                {!!data.exchange && (\r\n                    <span className=\"exchange\">\r\n                        <SwapIcon/>\r\n                        &nbsp;\r\n                        <Typography variant=\"subtitle1\">\r\n                            Возможен обмен\r\n                        </Typography>\r\n                    </span>\r\n                )}\r\n                {!!data.available_start_time && (\r\n                    <span className=\"available\">\r\n                        <PhoneIcon/>\r\n                        &nbsp;\r\n                        <Typography variant=\"subtitle1\">\r\n                            {data.available_start_time} -{' '}\r\n                            {data.available_end_time}\r\n                        </Typography>\r\n                    </span>\r\n                )}\r\n            </div>\r\n            <div className=\"ad-location\">\r\n                <Typography variant=\"button\" noWrap>\r\n                    Местоположение\r\n                </Typography>\r\n                {data.region.name || data.city.name || data.district.name ? (\r\n                    <Typography variant=\"subtitle1\" noWrap>\r\n                        <LocationIcon/>\r\n                        {`${data.region.name ?? ''}`}\r\n                        {data.city.name ? `, ${data.city.name}` : ''}\r\n                        {data.district.name ? `, ${data.district.name}` : ''}\r\n                    </Typography>\r\n                ) : (\r\n                    <Typography variant=\"subtitle1\">Не указано</Typography>\r\n                )}\r\n            </div>\r\n            <div className=\"ad-description\">\r\n                <Typography variant=\"button\" color=\"initial\">\r\n                    Описание\r\n                </Typography>\r\n                {data.description.length < 420 ? (\r\n                    <Typography variant=\"subtitle1\" color=\"initial\">\r\n                        {data.description}\r\n                    </Typography>\r\n                ) : (\r\n                    <ReadMore {...data}>\r\n                        <Typography\r\n                            variant=\"subtitle1\"\r\n                            color=\"initial\"\r\n                            id=\"description\"\r\n                        >\r\n                            {data.description}\r\n                        </Typography>\r\n                    </ReadMore>\r\n                )}\r\n            </div>\r\n            <div className=\"ad-category\">\r\n                <Typography variant=\"button\" color=\"initial\">\r\n                    Категория\r\n                </Typography>\r\n                <div>\r\n                    <Typography variant=\"subtitle1\" color=\"initial\">\r\n                        {data.parent.name}\r\n                        {data.child.id && <>&nbsp;- {data.child.name}</>}\r\n                        {parameters.type && <>&nbsp;- {parameters.type.name}</>}\r\n                        {parameters.sub_type && (\r\n                            <>\r\n                                &nbsp;- <span>{parameters.sub_type.name}</span>\r\n                            </>\r\n                        )}\r\n                    </Typography>\r\n                </div>\r\n            </div>\r\n            {data.ads_type.name !== 'Обычный' && (\r\n                <div className=\"started-price\">\r\n                    <Typography variant=\"button\">Стартовая цена</Typography>\r\n                    <span>\r\n                        <Typography variant=\"body2\">\r\n                            {data.price} {data.currency.name}\r\n                        </Typography>\r\n                    </span>\r\n                </div>\r\n            )}\r\n            {!!parameterItems.length && (\r\n                <div className=\"ad-parameters\">\r\n                    <Typography variant=\"button\" color=\"initial\">\r\n                        Параметры\r\n                    </Typography>\r\n                    <ul>{parameterItems}</ul>\r\n                </div>\r\n            )}\r\n            <Modal\r\n                open={open}\r\n                onClose={handleShowModal(false)}\r\n                className={classes.modal}\r\n            >\r\n                <ModalSyncSliders\r\n                    title={data.title}\r\n                    imgs={data.images}\r\n                    initialSlide={initialSlide}\r\n                    setInitialSlide={setInitialSlide}\r\n                />\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}