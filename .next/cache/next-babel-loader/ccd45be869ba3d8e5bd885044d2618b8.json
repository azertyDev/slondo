{"ast":null,"code":"import { userApi } from '../../api/api';\nimport { call, put, takeLatest } from \"redux-saga/effects\";\nimport { FETCH_SELF_DATA, selfDataActions } from \"../actions/selfDataActions\"; // Self data saga\n\nconst {\n  fetchSelfDataBegin,\n  fetchSelfDataSuccess,\n  fetchSelfDataFailure\n} = selfDataActions;\n\nfunction* workerAuth(actions) {\n  const {\n    payload\n  } = actions;\n\n  try {\n    yield put(fetchSelfDataBegin());\n    const {\n      user_info\n    } = yield call(userApi.login, payload.phone, payload.password);\n    yield put(fetchSelfDataSuccess({\n      data: user_info\n    }));\n  } catch (e) {\n    yield put(fetchSelfDataFailure(e.message));\n  }\n}\n\nexport function* watchAuth() {\n  yield takeLatest(FETCH_SELF_DATA, workerAuth);\n}","map":{"version":3,"sources":["C:/Users/abror/Documents/projects/slondo/src/redux/sagas/auth.ts"],"names":["userApi","call","put","takeLatest","FETCH_SELF_DATA","selfDataActions","fetchSelfDataBegin","fetchSelfDataSuccess","fetchSelfDataFailure","workerAuth","actions","payload","user_info","login","phone","password","data","e","message","watchAuth"],"mappings":"AAAA,SAAQA,OAAR,QAAsB,eAAtB;AACA,SAAQC,IAAR,EAAcC,GAAd,EAAmBC,UAAnB,QAAoC,oBAApC;AACA,SAAQC,eAAR,EAAyBC,eAAzB,QAA+C,4BAA/C,C,CAGA;;AACA,MAAM;AAACC,EAAAA,kBAAD;AAAqBC,EAAAA,oBAArB;AAA2CC,EAAAA;AAA3C,IAAmEH,eAAzE;;AAEA,UAAUI,UAAV,CAAqBC,OAArB,EAA8B;AAC1B,QAAM;AAACC,IAAAA;AAAD,MAAYD,OAAlB;;AACA,MAAI;AACA,UAAMR,GAAG,CAACI,kBAAkB,EAAnB,CAAT;AACA,UAAM;AAACM,MAAAA;AAAD,QAAc,MAAMX,IAAI,CAACD,OAAO,CAACa,KAAT,EAAgBF,OAAO,CAACG,KAAxB,EAA+BH,OAAO,CAACI,QAAvC,CAA9B;AACA,UAAMb,GAAG,CAACK,oBAAoB,CAAC;AAACS,MAAAA,IAAI,EAAEJ;AAAP,KAAD,CAArB,CAAT;AACH,GAJD,CAIE,OAAOK,CAAP,EAAU;AACR,UAAMf,GAAG,CAACM,oBAAoB,CAACS,CAAC,CAACC,OAAH,CAArB,CAAT;AACH;AACJ;;AAED,OAAO,UAAUC,SAAV,GAAsB;AACzB,QAAMhB,UAAU,CAACC,eAAD,EAAkBK,UAAlB,CAAhB;AACH","sourcesContent":["import {userApi} from '../../api/api'\r\nimport {call, put, takeLatest} from \"redux-saga/effects\"\r\nimport {FETCH_SELF_DATA, selfDataActions} from \"../actions/selfDataActions\"\r\n\r\n\r\n// Self data saga\r\nconst {fetchSelfDataBegin, fetchSelfDataSuccess, fetchSelfDataFailure} = selfDataActions;\r\n\r\nfunction* workerAuth(actions) {\r\n    const {payload} = actions;\r\n    try {\r\n        yield put(fetchSelfDataBegin());\r\n        const {user_info} = yield call(userApi.login, payload.phone, payload.password);\r\n        yield put(fetchSelfDataSuccess({data: user_info}));\r\n    } catch (e) {\r\n        yield put(fetchSelfDataFailure(e.message));\r\n    }\r\n}\r\n\r\nexport function* watchAuth() {\r\n    yield takeLatest(FETCH_SELF_DATA, workerAuth);\r\n}"]},"metadata":{},"sourceType":"module"}