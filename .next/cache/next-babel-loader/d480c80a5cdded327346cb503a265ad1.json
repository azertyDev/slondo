{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport Cookies from 'universal-cookie';\nimport { i18n, withTranslation } from '@root/i18n';\nimport { Container, Typography } from '@material-ui/core';\nimport TopHeaderContainer from \"./topHeader/TopHeaderContainer\";\nimport BottomHeader from './bottomHeader/BottomHeader';\nimport { ModalComponent } from '../elements/modal/Modal';\nimport { AuthRegPage } from \"./auth_reg/AuthRegPage\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setIsAuthAction, setIsAuthModalOpen } from '@src/redux/slices/authRegSlice';\nimport { ButtonComponent } from \"@src/components/elements/button/Button\";\nimport { fetchCategories } from \"@src/redux/slices/categoriesSlice\";\nimport { fetchLocations } from \"@src/redux/slices/locationsSlice\"; // styles\n\nimport { useStyles } from './useStyles';\n\nconst Header = props => {\n  const {\n    t\n  } = props;\n  const cookies = new Cookies();\n  const isTokenExst = !!cookies.get('token');\n  const lang = i18n.language;\n  const {\n    isAuth,\n    isAuthModalOpen\n  } = useSelector(store => store.auth);\n  const dispatch = useDispatch();\n\n  const handleIsOpenModal = value => () => {\n    dispatch(setIsAuthModalOpen(value));\n  };\n\n  useEffect(() => {\n    dispatch(fetchCategories(lang));\n    dispatch(fetchLocations(lang));\n  }, [lang]);\n  useEffect(() => {\n    dispatch(setIsAuthAction(isTokenExst));\n  }, [isTokenExst]);\n  const classes = useStyles();\n  return __jsx(\"header\", {\n    className: classes.root,\n    id: \"back-to-top-anchor\"\n  }, __jsx(Container, {\n    maxWidth: \"lg\"\n  }, __jsx(TopHeaderContainer, {\n    t: t,\n    handleOpenModal: handleIsOpenModal(true)\n  }), __jsx(\"div\", {\n    className: classes.bottomHeader\n  }, __jsx(BottomHeader, {\n    t: t,\n    isAuth: isAuth,\n    handleOpenModal: handleIsOpenModal(true)\n  }))), __jsx(ModalComponent, {\n    isOpen: isAuthModalOpen,\n    handleCloseModal: handleIsOpenModal(false),\n    className: classes.modalDialog\n  }, __jsx(React.Fragment, null, isAuth ? __jsx(\"div\", {\n    style: {\n      width: '200px',\n      height: '80px',\n      backgroundColor: '#fff'\n    }\n  }, __jsx(Typography, {\n    variant: \"h5\"\n  }, \"\\u0412\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0441\\u0430\\u0439\\u0442\\u0430?\"), __jsx(\"div\", {\n    style: {\n      display: 'flex'\n    }\n  }, __jsx(ButtonComponent, {\n    onClick: handleIsOpenModal(false)\n  }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"), __jsx(ButtonComponent, null, \"\\u0412\\u044B\\u0439\\u0442\\u0438\"))) : __jsx(AuthRegPage, {\n    t: t,\n    handleCloseModal: handleIsOpenModal(false)\n  }))));\n};\n\nexport default withTranslation(['header', 'auth_reg', 'common'])(Header);","map":null,"metadata":{},"sourceType":"module"}